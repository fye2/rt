<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
  <title>w_<</title>
  <link rel="stylesheet" href="css/main.css" />
  <link rel="icon" href="images/ss.png" type="image/png" />
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.2/css/all.min.css" />
  <script src="https://cdnjs.cloudflare.com/ajax/libs/vanilla-tilt/1.7.2/vanilla-tilt.min.js"></script>

  <script>
    function audioPlay() {
      const audio = document.getElementById("audio");
      audio.volume = 0.5;
      audio.currentTime = 0;
      audio.play();
    }
  </script>

  <style>
    /* Ícones de status sobre avatar */
    .avatar-wrapper {
      position: relative;
      width: 65px;
      height: 65px;
    }
    .status-indicator {
      position: absolute;
      bottom: 0;
      right: 0;
      width: 20px;
      height: 20px;
      border-radius: 50%;
      border: 3px solid #1e1f22; /* borda igual fundo p/ parecer "embutido" */
      background-color: #747f8d; /* cinza padrão - offline */
      cursor: default;
    }
  </style>
</head>
<body>
  <audio loop preload="auto" id="audio">
    <source src="media/neww.mp3" type="audio/mpeg" />
  </audio>

  <input type="checkbox" autocomplete="off" id="overlay-toggle" />
  <div class="overlay fullscreen">
    <label for="overlay-toggle" onclick="audioPlay();">
      <span class="overlay-text">trust the process</span>
    </label>
  </div>

  <video autoplay loop muted>
    <source src="media/neww.mp4" type="video/mp4" />
    Seu navegador não suporta vídeo.
  </video>

  <div class="all">
    <div
      class="discord-profile"
      data-tilt
      data-tilt-max="8"
      data-tilt-glare="true"
      data-tilt-max-glare="0.3"
    >
      <!-- PRIMEIRO CARD - FOTO E NOME MANUAL -->
      <img
        id="discord-avatar"
        class="profile-img"
        src="https://i.imgur.com/yourCustomImage.png"
        alt="Avatar Customizado"
      />
      <div id="discord-name" class="nickr">Seu Nome Aqui</div>
      <div class="badges">
        <div class="badge" style="background-image: url('images/1895-subscriber-nitro-animated.gif');" data-tooltip="Assinante desde 19 de fev. de 2025"></div>
        <div class="badge" style="background-image: url('images/booster.png');" data-tooltip="Impulsionando o servidor desde 26 de jul. de 2024"></div>
      </div>
      <div class="bio">Aqui sua bio ou descrição.</div>
      <div class="social-buttons">
        <a href="https://www.youtube.com/@raelfvm/videos" target="_blank" class="social-button"><i class="fab fa-youtube"></i></a>
        <a href="https://www.tiktok.com/@_rtffz" target="_blank" class="social-button"><i class="fab fa-tiktok"></i></a>
      </div>

      <!-- SEGUNDO CARD - AVATAR PUXADO VIA API, NOME MANUAL -->
      <div class="discord-profile-small">
        <div class="avatar-wrapper">
          <img
            id="discord-avatar-small"
            src=""
            alt="Avatar Pequeno"
            class="profile-img-small"
          />
          <div
            id="status-indicator"
            class="status-indicator"
            title="Offline"
          ></div>
        </div>
        <!-- NOME MANUAL AQUI -->
        <span id="discord-name-small" class="profile-name">Nome Personalizado</span>
        <a href="https://discord.com/users/499315885245464617" target="_blank" class="profile-btn">Profile</a>
      </div>
    </div>
  </div>

  <script>
    VanillaTilt.init(document.querySelectorAll(".discord-profile"), {
      max: 10,
      speed: 400,
      glare: true,
      "max-glare": 0.3,
    });

    const userId = "499315885245464617";

    async function fetchAvatar() {
      try {
        const res = await fetch("https://testeee-rtqe.onrender.com/api/user/" + userId);
        const data = await res.json();

        if (data.error) {
          console.error("Erro ao carregar avatar");
          document.getElementById("discord-avatar-small").src =
            "https://cdn.discordapp.com/embed/avatars/0.png";
          return;
        }

        const avatarURL = data.avatarURL || `https://cdn.discordapp.com/embed/avatars/0.png`;
        document.getElementById("discord-avatar-small").src = avatarURL;
      } catch (error) {
        console.error("Erro ao buscar dados do usuário:", error);
        document.getElementById("discord-avatar-small").src =
          "https://cdn.discordapp.com/embed/avatars/0.png";
      }
    }

    fetchAvatar();
  </script>
</body>
</html>
